<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="../statics/js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="../statics/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../statics/css/bootstrap.min.css" />
    <script type="text/javascript">
        function login(){
            var password = $("#password").val();
            $.ajax({
                type: "post",
                url: "/login",
                data: { password: password },
                success: function (json) {
                    if(json.message == "OK"){
                        alert("登录成功");
                    }
                    else {
                        alert(json.message);
                    }
                },
                error: function () {
                    alert("登录请求失败");
                }
            })
        }
    </script>
    <script>
        function upload(){
            $.ajax({
                url : "http://127.0.0.1:5000/upload",
                data: new FormData($(".form-avatar")[0]),
                type : "POST",
                processData : false,
                contentType : false,
                dataType:"json",
                success : function(json) {
                    alert(json);
                },
                error : function(json) {
                    alert("上传失败了，你有问题！！");
                }
            });
        }
    </script>
</head>
<body>
<div class="modal fade" id="myModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <h4 class="modal-title" align="center">登录框</h4>
                <br/>
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <label for="password" class="col-sm-offset-2 col-sm-2 control-label">密码</label>
                        <div class="col-sm-5">
                            <input type="password" class="form-control" id="password" placeholder="请输入您的密码">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-4 col-sm-5">
                            <button id="submitBtn" onclick="login()">登录</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    <button class="tbox">登录</button>

    <form id="form-avatar" class="form-avatar" enctype="multipart/form-data">
        <p>请选择要上传的文件：</p>
        <p><input type="file" name="f1" /></p>
        <p><input id="btn-avatar" class="btn-avatar" type="button" value="上传" onclick="upload()" /></p>
    </form>
<center><a href="http://beian.miit.gov.cn/" target="_blank"> 闽ICP备2020019919号</a></center>
</body>
<script type="text/javascript">
    $(function(){
        $(".tbox").click(function(){
            $('#myModal').modal('show') //显示模态框
        })

    });
</script>
</html>